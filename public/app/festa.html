<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Central da Festa | Home Fest</title>
  <link rel="stylesheet" href="/css/layout.css?v=20260125-015520">
  <link rel="stylesheet" href="/css/festa.css?v=20260125-015520">
  <script src="/shell.js?v=20260125-015520" defer></script>
</head>
<body class="layout">

  
  <aside class="sidebar" aria-label="Navega√ß√£o">
    <div class="brand">
      <div class="brand-mark" aria-hidden="true">HF</div>
      <div class="brand-text">
        <div class="brand-name">Home Fest</div>
        <div class="brand-sub">Sistema</div>
      </div>
    </div>

    <nav class="nav">
      <a class="nav-item" href="/"><span class="nav-ico">üè†</span><span>Dashboard</span></a><a class="nav-item" href="/app/leads.html"><span class="nav-ico">üß≤</span><span>Leads</span></a><a class="nav-item" href="/app/clientes.html"><span class="nav-ico">üë•</span><span>Clientes</span></a><a class="nav-item is-active" href="/app/festas.html"><span class="nav-ico">üéâ</span><span>Festas</span></a><a class="nav-item" href="/app/financeiro.html"><span class="nav-ico">üí∞</span><span>Financeiro</span></a><a class="nav-item" href="/app/usuarios.html"><span class="nav-ico">üõ°Ô∏è</span><span>Usu√°rios</span></a><button class="nav-item" type="button" disabled title="Em desenvolvimento"><span class="nav-ico">üìÑ</span><span>Contratos</span></button><button class="nav-item" type="button" disabled title="Em desenvolvimento"><span class="nav-ico">üè∑Ô∏è</span><span>Patrim√¥nio</span></button><button class="nav-item" type="button" disabled title="Em desenvolvimento"><span class="nav-ico">üìä</span><span>Relat√≥rios</span></button>
      <div class="nav-sep"></div>
      <a class="nav-item" id="btnLogout" href="#"><span class="nav-ico">üö™</span><span>Sair</span></a>
    </nav>

    <div class="sidebar-footer">
      <div class="sidebar-meta">
        <div class="meta-label">Vers√£o</div>
        <div class="meta-value">0.1</div>
      </div>
      <a class="settings-link" href="#" title="Em desenvolvimento" aria-disabled="true">‚öô Configura√ß√µes</a>
    </div>
  </aside>


  <main class="main">
    <div class="topbar">
      <div>
        <h1 class="title">Central da Festa</h1>
        <p class="muted" id="subtitulo">Carregando‚Ä¶</p>
      </div>
      <div class="top-actions">
        <a class="btn-ghost" href="/app/festas.html">‚Üê Voltar</a>
        <button class="btn-ghost" id="btnEditarEvento" title="Editar dados da festa">Editar festa</button>
        <button class="btn-primary" id="btnSalvar">Salvar</button>
      </div>
    </div>

    <div class="grid-2">
      <section class="card">
        <h3>Resumo</h3>
        <div class="badges">
          <span class="badge" id="badgeStatus">Status</span>
          <span class="badge gold" id="badgeContrato">Contrato</span>
        </div>

        <div class="summary">
          <div>
            <div class="k">Cliente</div>
            <div class="v" id="clienteNome">‚Äî</div>
          </div>
          <div>
            <div class="k">Telefone</div>
            <div class="v"><a id="clienteTelefone" href="#" target="_blank">‚Äî</a></div>
          </div>
          <div>
            <div class="k">Data</div>
            <div class="v" id="eventoData">‚Äî</div>
          </div>
          <div>
            <div class="k">Convidados</div>
            <div class="v" id="eventoConvidados">‚Äî</div>
          </div>
          <div>
            <div class="k">Valor (R$)</div>
            <div class="v" id="eventoValor">‚Äî</div>
          </div>
          <div>
            <div class="k">Forma de pagamento</div>
            <div class="v" id="eventoPagamento">‚Äî</div>
          </div>
        </div>
      </section>

      <section class="card">
        <h3>Dados da Festa</h3>
        <div class="form-grid">
          <label>
            Tipo de festa
            <select id="tipo_evento">
              <option value="Infantil">Infantil</option>
              <option value="Adulto">Adulto</option>
              <option value="Casamento">Casamento</option>
              <option value="Corporativo">Corporativo</option>
              <option value="Domiciliar">Domiciliar</option>
              <option value="Coquetel">Coquetel</option>
              <option value="Outro">Outro</option>
            </select>
          </label>

          <label>
            Data do evento
            <input id="data_evento" type="date" />
          </label>

          <label>
            Convidados
            <input id="convidados" type="number" min="0" />
          </label>

          <label>
            Valor total (R$)
            <input id="valor_total" type="number" min="0" step="0.01" />
          </label>

          <label class="span-2">
            Status
            <select id="status">
              <option value="orcamento">Or√ßamento</option>
              <option value="confirmado">Confirmado</option>
              <option value="fechado">Fechado</option>
              <option value="em_producao">Em produ√ß√£o</option>
              <option value="realizado">Realizado</option>
              <option value="finalizado">Finalizado</option>
              <option value="cancelado">Cancelado</option>
            </select>
          </label>

          <label class="span-2">
            Forma de pagamento
            <select id="forma_pagamento">
              <option value="">‚Äî</option>
              <option value="50% agora e 50% at√© 1 semana antes">50% agora e 50% at√© 1 semana antes</option>
              <option value="√Ä vista (desconto)">√Ä vista (desconto)</option>
              <option value="Cart√£o (at√© 6x)">Cart√£o (at√© 6x)</option>
              <option value="Outro">Outro</option>
            </select>
          </label>
        </div>

        <div class="hint">
          <strong>Pr√≥ximo passo:</strong> vamos transformar as abas abaixo em m√≥dulos completos (dropdown fixo + ‚ÄúOutro‚Äù + fornecedor + custo).
        </div>
      </section>
    </div>

    <section class="card">
      <div class="tabs">
        <button class="tab active" data-tab="equipe">Equipe</button>
        <button class="tab" data-tab="bebidas">Bebidas</button>
        <button class="tab" data-tab="doces">Doces</button>
        <button class="tab" data-tab="salgados">Salgados</button>
        <button class="tab" data-tab="decoracao">Decora√ß√£o</button>
        <button class="tab" data-tab="estrutura">Estrutura</button>
        <button class="tab" data-tab="proposta">Proposta</button>
        <button class="tab" data-tab="pagamento">Pagamento</button>
      </div>

      
      <div class="tab-panel" id="panel">

        <!-- EQUIPE -->
        <div class="module" data-module="equipe">
          <div class="module-head">
            <div>
              <div class="module-title">Equipe</div>
              <div class="module-sub">Cadastre a equipe por fun√ß√£o/fornecedor e acompanhe o custo em tempo real.</div>
            </div>
            <div class="module-actions">
              <div class="pill" title="Custo total da equipe nesta festa">
                Total: <strong id="equipeTotal">R$ 0,00</strong>
              </div>
              <button class="btn-primary" id="btnEquipeNovo">+ Adicionar</button>
            </div>
          </div>

          <div class="table-wrap">
            <table class="table" id="equipeTable">
              <thead>
                <tr>
                  <th>Fun√ß√£o</th>
                  <th>Fornecedor</th>
                  <th class="num">Qtd</th>
                  <th>Unid.</th>
                  <th class="num">R$ Unit.</th>
                  <th class="num">R$ Total</th>
                  <th>Status</th>
                  <th class="actions">A√ß√µes</th>
                </tr>
              </thead>
              <tbody id="equipeTbody">
                <tr><td colspan="8" class="empty-row">Carregando‚Ä¶</td></tr>
              </tbody>
            </table>
          </div>

          <div class="hint">
            Dica: use <strong>di√°ria</strong> para equipe por turno, <strong>hora</strong> para extras, e <strong>evento</strong> para cach√™ fechado.
          </div>
        </div>

        <!-- PLACEHOLDERS -->
        <div class="module" data-module="bebidas" hidden>
          <div class="empty">
            <div class="empty-title">Bebidas (em breve)</div>
            <div class="empty-text">Vamos implementar este m√≥dulo seguindo o mesmo padr√£o do ERP (evento_itens).</div>
          </div>
        </div>
        <div class="module" data-module="doces" hidden>
          <div class="empty">
            <div class="empty-title">Doces (em breve)</div>
            <div class="empty-text">Vamos implementar este m√≥dulo seguindo o mesmo padr√£o do ERP (evento_itens).</div>
          </div>
        </div>
        <div class="module" data-module="salgados" hidden>
          <div class="empty">
            <div class="empty-title">Salgados (em breve)</div>
            <div class="empty-text">Vamos implementar este m√≥dulo seguindo o mesmo padr√£o do ERP (evento_itens).</div>
          </div>
        </div>
        <div class="module" data-module="decoracao" hidden>
          <div class="empty">
            <div class="empty-title">Decora√ß√£o (em breve)</div>
            <div class="empty-text">Vamos implementar este m√≥dulo seguindo o mesmo padr√£o do ERP (evento_itens).</div>
          </div>
        </div>
        <div class="module" data-module="estrutura" hidden>
          <div class="empty">
            <div class="empty-title">Estrutura (em breve)</div>
            <div class="empty-text">Vamos implementar este m√≥dulo seguindo o mesmo padr√£o do ERP (evento_itens).</div>
          </div>
        </div>
        <div class="module" data-module="proposta" hidden>
          <div class="module-head">
            <div>
              <div class="module-title">Proposta</div>
              <div class="module-sub">Monte a proposta (itens + condi√ß√µes) e gere vers√µes para o cliente.</div>
            </div>
            <div class="module-actions">
              <button class="btn-ghost" id="btnPropAdicionar">+ Item</button>
              <button class="btn-primary" id="btnPropSalvar">Salvar nova vers√£o</button>
              <a class="btn-ghost" id="btnPropImprimirUltima" href="#" target="_blank" rel="noopener">Imprimir √∫ltima</a>
            </div>
          </div>

          <div class="grid-2" style="margin-top:14px;">
            <div class="card pad">
              <div class="form-grid">
                <label>T√≠tulo
                  <input id="propTitulo" type="text" placeholder="Ex: Proposta Comercial ‚Ä¢ Home Fest"/>
                </label>
                <label>Validade
                  <input id="propValidade" type="text" placeholder="Ex: 7 dias a partir do envio"/>
                </label>
              </div>
              <label style="margin-top:10px;">Condi√ß√µes
                <textarea id="propCondicoes" rows="4" placeholder="Ex: 50% agora e 50% at√© 7 dias antes do evento."></textarea>
              </label>
              <label style="margin-top:10px;">Observa√ß√µes
                <textarea id="propObs" rows="4" placeholder="Ex: Card√°pio personalizado conforme reuni√£o."></textarea>
              </label>
            </div>

            <div class="card pad">
              <div class="kpi-row">
                <div class="kpi">
                  <div class="k">Subtotal</div>
                  <div class="v" id="propSubtotal">R$ 0,00</div>
                </div>
                <div class="kpi">
                  <div class="k">Desconto</div>
                  <div class="v">
                    <input id="propDesconto" type="number" min="0" step="0.01" value="0" style="width:140px;"/>
                  </div>
                </div>
                <div class="kpi">
                  <div class="k">Total</div>
                  <div class="v" id="propTotal">R$ 0,00</div>
                </div>
              </div>

              <div class="table-wrap" style="margin-top:12px;">
                <table class="table">
                  <thead>
                    <tr>
                      <th style="width:44px;">#</th>
                      <th>Item / Descri√ß√£o</th>
                      <th style="width:90px; text-align:right;">Qtd</th>
                      <th style="width:140px; text-align:right;">Unit√°rio</th>
                      <th style="width:44px;"></th>
                    </tr>
                  </thead>
                  <tbody id="propItens"></tbody>
                </table>
                <div class="empty-text" id="propEmpty">Adicione itens para compor a proposta.</div>
              </div>
            </div>
          </div>

          <div class="card pad" style="margin-top:14px;">
            <div class="module-title" style="font-size:16px;">Vers√µes geradas</div>
            <div class="module-sub" style="margin-top:4px;">Cada salvamento cria uma nova vers√£o (v1, v2, v3...).</div>

            <div class="table-wrap" style="margin-top:12px;">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width:80px;">Vers√£o</th>
                    <th>T√≠tulo</th>
                    <th style="width:160px;">Criada em</th>
                    <th style="width:160px;">A√ß√µes</th>
                  </tr>
                </thead>
                <tbody id="propVersoes"></tbody>
              </table>
              <div class="empty-text" id="propVersoesEmpty">Nenhuma proposta gerada ainda.</div>
            </div>
          </div>
        </div>

<div class="module" data-module="pagamento" hidden>
          <div class="empty">
            <div class="empty-title">Pagamento (em breve)</div>
            <div class="empty-text">Vamos implementar este m√≥dulo seguindo o mesmo padr√£o do ERP (evento_itens).</div>
          </div>
        </div>

      </div>

      <!-- MODAL EQUIPE -->
      <div class="modal" id="modalEquipe" hidden>
        <div class="modal-backdrop" data-close="1"></div>
        <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="modalEquipeTitle">
          <div class="modal-head">
            <div>
              <div class="modal-title" id="modalEquipeTitle">Adicionar equipe</div>
              <div class="modal-sub">Preencha os campos abaixo. O total √© calculado automaticamente.</div>
            </div>
            <button class="icon-btn" id="btnEquipeFechar" aria-label="Fechar">‚úï</button>
          </div>

          <div class="grid-2">
            <div class="field">
              <label>Fun√ß√£o</label>
              <select id="eqFuncao">
                <option value="">Selecione‚Ä¶</option>
                <option>Gar√ßom</option>
                <option>Copeira</option>
                <option>Cozinheira</option>
                <option>Auxiliar de cozinha</option>
                <option>Recreador(a)</option>
                <option>Monitor(a)</option>
                <option>Seguran√ßa</option>
                <option>Recepcionista</option>
                <option>Fot√≥grafo</option>
                <option>Filmagem</option>
                <option>Outro</option>
              </select>
              <input id="eqFuncaoOutro" class="mt8" placeholder="Digite a fun√ß√£o‚Ä¶" hidden />
            </div>

            <div class="field">
              <label>Fornecedor</label>
              <input id="eqFornecedor" placeholder="Ex: Equipe pr√≥pria / Fulano / Empresa X" />
            </div>

            <div class="field">
              <label>Quantidade</label>
              <input id="eqQtd" type="number" min="0" step="1" value="1" />
            </div>

            <div class="field">
              <label>Unidade</label>
              <select id="eqUnidade">
                <option value="pessoa">pessoa</option>
                <option value="diaria">di√°ria</option>
                <option value="hora">hora</option>
                <option value="evento">evento</option>
              </select>
            </div>

            <div class="field">
              <label>Valor unit√°rio</label>
              <input id="eqValorUnit" inputmode="decimal" placeholder="0,00" />
            </div>

            <div class="field">
              <label>Valor total</label>
              <input id="eqValorTotal" inputmode="decimal" placeholder="0,00" />
              <div class="micro">Se deixar vazio, o sistema calcula: quantidade √ó unit√°rio.</div>
            </div>

            <div class="field">
              <label>Status</label>
              <select id="eqStatus">
                <option value="pendente">pendente</option>
                <option value="confirmado">confirmado</option>
                <option value="pago">pago</option>
              </select>
            </div>

            <div class="field">
              <label>Observa√ß√£o</label>
              <input id="eqObs" placeholder="Ex: 17h‚Äì23h, uniforme, deslocamento..." />
            </div>
          </div>

          <div class="modal-actions">
            <button class="btn-ghost" id="btnEquipeCancelar" data-close="1">Cancelar</button>
            <button class="btn-primary" id="btnEquipeSalvar">Salvar</button>
          </div>
        </div>
      </div>

    </section>

    <!-- MODAL EDITAR FESTA -->
    <div class="modal" id="modalEvento" hidden>
      <div class="modal-backdrop" data-close="1"></div>
      <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="modalEventoTitle">
        <div class="modal-head">
          <div>
            <div class="modal-title" id="modalEventoTitle">Editar Festa</div>
            <div class="micro">Atualize os dados b√°sicos do evento e do contrato.</div>
          </div>
          <button class="icon-btn" data-close="1" aria-label="Fechar">‚úï</button>
        </div>

        <div class="modal-body">
          <div class="form-grid">
            <div class="field">
              <label>Cliente</label>
              <select id="evCliente"></select>
            </div>

            <div class="field">
              <label>Tipo</label>
              <select id="evTipo">
                <option value="Infantil">Infantil</option>
                <option value="Adulto">Adulto</option>
                <option value="Casamento">Casamento</option>
                <option value="Corporativo">Corporativo</option>
                <option value="Domiciliar">Domiciliar</option>
                <option value="Coquetel">Coquetel</option>
                <option value="Outro">Outro</option>
              </select>
            </div>

            <div class="field">
              <label>Data</label>
              <input type="date" id="evData" />
            </div>

            <div class="field">
              <label>Convidados</label>
              <input type="number" id="evConvidados" min="0" />
            </div>

            <div class="field">
              <label>Valor total (R$)</label>
              <input id="evValorTotal" inputmode="decimal" placeholder="0,00" />
            </div>

            <div class="field">
              <label>Status</label>
              <select id="evStatus">
                <option value="orcamento">Or√ßamento</option>
                <option value="confirmado">Confirmado</option>
                <option value="fechado">Fechado</option>
                <option value="em_producao">Em produ√ß√£o</option>
                <option value="realizado">Realizado</option>
                <option value="finalizado">Finalizado</option>
                <option value="cancelado">Cancelado</option>
              </select>
            </div>

            <div class="field span-2">
              <label>Forma de pagamento</label>
              <select id="evForma">
                <option value="">‚Äî</option>
                <option value="50% agora e 50% at√© 1 semana antes">50% agora e 50% at√© 1 semana antes</option>
                <option value="√Ä vista (desconto)">√Ä vista (desconto)</option>
                <option value="Cart√£o (at√© 6x)">Cart√£o (at√© 6x)</option>
                <option value="Outro">Outro</option>
              </select>
            </div>

            <div class="field">
              <label>Contrato</label>
              <input id="evContrato" placeholder="HF-AAAA-00000" />
            </div>
          </div>
        </div>

        <div class="modal-actions">
          <button class="btn-ghost" data-close="1">Cancelar</button>
          <button class="btn-primary" id="btnEventoSalvar">Salvar altera√ß√µes</button>
        </div>
      </div>
    </div>

  </main>

  <script src="/js/festa.js?v=20260125-015520"></script>
</body>
</html>
